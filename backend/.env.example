# ============================================
# ChatApp Backend Environment Variables
# ============================================
# Copy this file to .env and fill in your values

# ============================================
# SERVER CONFIGURATION
# ============================================

# Port number for the Express server
# Default: 3000
PORT=3000

# Node environment (development, production)
# Use 'development' for local development
# Use 'production' for deployment
NODE_ENV=development

# Frontend client URL for CORS configuration
# Used to allow requests from frontend
CLIENT_URL=http://localhost:5173

# ============================================
# DATABASE CONFIGURATION
# ============================================

# MongoDB connection string
# Format for MongoDB Atlas: mongodb+srv://username:password@cluster.mongodb.net/database_name
# Format for local MongoDB: mongodb://localhost:27017/database_name
# Get from: https://www.mongodb.com/cloud/atlas
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/chatapp

# ============================================
# AUTHENTICATION & SECURITY
# ============================================

# JWT (JSON Web Token) secret key
# Generate a strong random string for production
# Security tip: Use a minimum 32-character random string
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_jwt_secret_key_replace_with_strong_random_string_32_chars_min

# ============================================
# EMAIL SERVICE (RESEND)
# ============================================

# Resend API Key for sending emails
# Get from: https://resend.com
# Features: Account recovery, verification emails, notifications
RESEND_API_KEY=re_your_resend_api_key_here

# Email sender address
# Must be a verified domain in Resend dashboard
# Format: noreply@yourdomain.com
EMAIL_FROM=noreply@example.com

# Friendly name for email sender
# Displayed as "From" in email clients
EMAIL_FROM_NAME=ChatApp

# ============================================
# IMAGE STORAGE (CLOUDINARY)
# ============================================

# Cloudinary Cloud Name
# Get from: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=your_cloud_name

# Cloudinary API Key
# Get from: https://cloudinary.com/console/settings/api-keys
CLOUDINARY_API_KEY=your_cloudinary_api_key

# Cloudinary API Secret
# Keep this secret! Never commit to repository
# Get from: https://cloudinary.com/console/settings/api-keys
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

# ============================================
# SECURITY & RATE LIMITING (ARCJET)
# ============================================

# Arcjet API Key for security rules
# Get from: https://app.arcjet.com
# Features: Rate limiting, bot detection, DDoS protection
ARCJET_KEY=ajkey_your_arcjet_key_here

# Arcjet Environment (production, staging)
# Use 'production' for live, 'staging' for testing
ARCJET_ENV=production

# ============================================
# OPTIONAL CONFIGURATION
# ============================================

# Maximum file upload size (in MB)
# Default: 10MB
# MAX_FILE_SIZE=10

# JWT Token Expiration
# Default: 7 days
# JWT_EXPIRE=7d

# Session Cookie Options
# Default: true (only send over HTTPS in production)
# COOKIE_SECURE=true
# COOKIE_HTTP_ONLY=true
# COOKIE_SAME_SITE=strict

# ============================================
# SETUP INSTRUCTIONS
# ============================================

# 1. MongoDB Setup:
#    - Go to https://www.mongodb.com/cloud/atlas
#    - Create a free cluster
#    - Get connection string and replace MONGODB_URI value
#    - Add your IP address to IP whitelist
#
# 2. Cloudinary Setup:
#    - Go to https://cloudinary.com
#    - Sign up for free account
#    - Get your Cloud Name, API Key, and API Secret
#    - Enable unsigned uploads (optional)
#
# 3. Resend Setup:
#    - Go to https://resend.com
#    - Create account and verify domain
#    - Get API key
#    - Update EMAIL_FROM with verified domain
#
# 4. Arcjet Setup:
#    - Go to https://app.arcjet.com
#    - Create project
#    - Get Arcjet Key
#    - Configure rate limiting rules
#
# 5. JWT Secret Generation:
#    - Run: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#    - Replace JWT_SECRET with the output
#
# ============================================
# IMPORTANT SECURITY NOTES
# ============================================

# NEVER:
# - Commit this file to git (use .env.example instead)
# - Share your API keys publicly
# - Use weak JWT secrets
# - Expose sensitive keys in logs or error messages
# - Use same keys for multiple environments

# ALWAYS:
# - Use strong, random strings for JWT_SECRET
# - Rotate API keys periodically
# - Use environment-specific keys (dev, staging, prod)
# - Enable HTTPS in production
# - Use HTTPS_ONLY cookies in production
# - Monitor Arcjet dashboard for abuse attempts
